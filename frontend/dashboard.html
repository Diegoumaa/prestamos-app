<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2 class="text-center my-4">Dashboard</h2>
        <div class="text-center mb-3">
            <button id="add-loan-button" class="btn btn-primary" data-toggle="modal" data-target="#add-loan-modal">Agregar Préstamo</button>
        </div>
        <div class="d-none d-md-block">
            <div class="table-responsive">
                <table class="table table-dark table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Capital</th>
                            <th>Abonos</th>
                            <th>Porcentaje</th>
                            <th>Cuota Mensual</th>
                            <th>Fecha de Inicio</th>
                            <th>Fecha de Pago</th>
                            <th>Meses Pagados</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="loans-table-body">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="d-block d-md-none">
            <div id="loans-cards" class="row"></div>
        </div>
    </div>

    <!-- Modal para agregar préstamo -->
    <div id="add-loan-modal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Agregar Préstamo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="add-loan-form">
                        <div class="form-group">
                            <label for="name">Nombre:</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="capital">Capital:</label>
                            <input type="number" class="form-control" id="capital" name="capital" required>
                        </div>
                        <div class="form-group">
                            <label for="porcentaje">Porcentaje:</label>
                            <input type="number" class="form-control" id="porcentaje" name="porcentaje" required>
                        </div>
                        <div class="form-group">
                            <label for="start_date">Fecha de Inicio:</label>
                            <input type="date" class="form-control" id="start_date" name="start_date" required>
                        </div>
                        <div class="form-group">
                            <label for="payment_date">Fecha de Pago:</label>
                            <input type="date" class="form-control" id="payment_date" name="payment_date" required>
                        </div>
                        <div class="form-group">
                            <label for="months_paid">Meses Pagados:</label>
                            <input type="number" class="form-control" id="months_paid" name="months_paid" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Guardar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar préstamo -->
    <div id="edit-loan-modal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Editar Préstamo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="edit-loan-form">
                        <input type="hidden" id="edit-loan-id">
                        <div class="form-group">
                            <label for="edit-abonos">Abonos:</label>
                            <input type="number" class="form-control" id="edit-abonos" name="abonos" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-start_date">Fecha de Inicio:</label>
                            <input type="date" class="form-control" id="edit-start_date" name="start_date" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-payment_date">Fecha de Pago:</label>
                            <input type="date" class="form-control" id="edit-payment_date" name="payment_date" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-months_paid">Meses Pagados:</label>
                            <input type="number" class="form-control" id="edit-months_paid" name="months_paid" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Guardar Cambios</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
